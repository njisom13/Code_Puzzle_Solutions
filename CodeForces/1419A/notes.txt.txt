First solution to a codeforces problem. Too verbose, fails second test (overflow?). Revisit!